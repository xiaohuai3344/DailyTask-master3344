# 周末/节假日自动暂停功能 - 快速使用指南

## 🎯 功能简介

新版本 DailyTask 支持**智能识别周末和节假日**，可以根据你的需求自动暂停打卡任务，让你真正享受休息时间！

---

## 📱 使用步骤

### 步骤 1：进入任务配置

1. 打开 DailyTask 应用
2. 点击右上角 ⚙️ 图标进入"设置"
3. 选择"任务配置"

### 步骤 2：配置休息日设置

在任务配置界面，你会看到两个新增的开关：

#### 🌴 周末打卡开关

```
┌─────────────────────────────────┐
│  周末打卡                    ⚪ │
│  关闭后周六周日自动暂停           │
└─────────────────────────────────┘
```

- **关闭（默认）**：周六、周日自动暂停所有打卡任务 ✅ 推荐
- **开启**：周末也继续执行打卡任务

#### 🎉 节假日打卡开关

```
┌─────────────────────────────────┐
│  节假日打卡                  ⚪ │
│  关闭后法定节假日自动暂停         │
└─────────────────────────────────┘
```

- **关闭（默认）**：法定节假日自动暂停所有打卡任务 ✅ 推荐
- **开启**：节假日也继续执行打卡任务

### 步骤 3：查看今天的状态

返回主界面，在顶部工具栏你会看到今天的日期类型：

#### 显示效果示例

```
工作日：
┌─────────────────────────────────┐
│  星期一 [工作日]              ◀  │
│  2026年01月30日 10:30:15 星期一  │
└─────────────────────────────────┘

周末：
┌─────────────────────────────────┐
│  星期六 [周末]                ◀  │
│  2026年02月01日 09:15:30 星期六  │
└─────────────────────────────────┘

节假日：
┌─────────────────────────────────┐
│  星期三 [春节]                ◀  │
│  2026年02月17日 08:45:20 星期三  │
└─────────────────────────────────┘

调休工作日：
┌─────────────────────────────────┐
│  星期六 [工作日（调休）]      ◀  │
│  2026年02月14日 09:00:00 星期六  │
└─────────────────────────────────┘
```

### 步骤 4：启动任务测试

点击主界面的"启动"按钮：

#### 情况1：今天是工作日
```
✅ 任务启动成功
📧 你会收到邮件：任务启动成功，请注意下次打卡时间
```

#### 情况2：今天是周末（周末开关关闭）
```
⚠️ 今天是周末，已设置为休息日，任务不会执行
💡 如需周末打卡，请在任务配置中开启"周末打卡"
```

#### 情况3：今天是节假日（节假日开关关闭）
```
⚠️ 今天是春节，已设置为休息日，任务不会执行
💡 如需节假日打卡，请在任务配置中开启"节假日打卡"
```

---

## 🗓️ 内置节假日列表（2026年）

| 节假日 | 日期范围 | 天数 |
|--------|---------|------|
| 元旦 | 1月1日-3日 | 3天 |
| 春节 | 2月17日-23日 | 7天 |
| 清明节 | 4月4日-6日 | 3天 |
| 劳动节 | 5月1日-5日 | 5天 |
| 端午节 | 6月25日-27日 | 3天 |
| 中秋节 | 10月3日-5日 | 3天 |
| 国庆节 | 10月1日-8日 | 8天 |

💡 **说明**：中秋节与国庆节连休，共8天假期

---

## 📋 常见使用场景

### 场景1：普通上班族（推荐配置）

```
✅ 周末打卡：关闭
✅ 节假日打卡：关闭
```

**效果**：
- 工作日自动打卡 ✅
- 周六周日休息 🛌
- 法定节假日休息 🎉

### 场景2：经常加班（周末需打卡）

```
✅ 周末打卡：开启
✅ 节假日打卡：关闭
```

**效果**：
- 工作日自动打卡 ✅
- 周六周日也打卡 💼
- 法定节假日休息 🎉

### 场景3：节假日值班（全年无休）

```
✅ 周末打卡：开启
✅ 节假日打卡：开启
```

**效果**：
- 每天都打卡 💪
- 包括周末和节假日

### 场景4：仅工作日打卡（最常见）

```
✅ 周末打卡：关闭
✅ 节假日打卡：关闭
```

**效果**：
- 仅在周一至周五工作日打卡
- 周末和节假日完全休息 😴

---

## 💡 使用技巧

### 技巧1：提前查看明天状态

在今天晚上，查看主界面工具栏的日期类型标签：
- 如果明天是"周末"或"节假日"，且开关关闭，任务不会执行
- 提前做好准备，避免误以为会自动打卡

### 技巧2：临时调整

节假日前一天想手动调整？
1. 进入"任务配置"
2. 临时开启"节假日打卡"
3. 第二天再关闭即可

### 技巧3：查看邮件确认

每次任务启动时都会发送邮件通知：
- 成功启动："任务启动成功，请注意下次打卡时间"
- 休息日阻止："今天是XX，已设置为休息日"

### 技巧4：调休工作日自动识别

系统会自动识别调休工作日（如春节前后的周末调休）：
- 即使是周六/周日，如果是调休工作日，仍会正常打卡
- 无需手动调整，完全自动化 🎯

---

## ⚠️ 注意事项

### 1. 首次使用

首次进入"任务配置"界面时，应用会自动初始化2026年的节假日数据，这个过程很快（不到1秒），你无需做任何操作。

### 2. 日期判断逻辑

系统按照以下优先级判断今天的类型：
```
1. 查看节假日数据库
   ├─ 找到记录 → 使用数据库中的类型
   └─ 没记录 → 往下判断
   
2. 查看星期几
   ├─ 周六/周日 → 周末
   └─ 周一～五 → 工作日
```

### 3. 数据更新

当前版本内置2026年的节假日数据，如果到了2027年：
- 方案1：等待应用更新（会包含最新节假日数据）
- 方案2：使用"节假日管理"功能手动添加（未来版本会提供）

### 4. 旧数据兼容

如果你是从旧版本升级：
- 所有现有任务和配置都会保留 ✅
- 数据库会自动升级，不会丢失数据 ✅
- 默认关闭周末和节假日打卡，不影响现有使用 ✅

---

## 🐛 常见问题

### Q1：为什么周末还在打卡？

**A**：请检查"任务配置"中的"周末打卡"开关是否关闭（灰色）。如果是开启状态（绿色），周末会继续打卡。

### Q2：今天是节假日，但显示是工作日？

**A**：可能是调休工作日，系统会自动识别并标注为"工作日（调休）"。这是正确的行为，因为调休日需要上班。

### Q3：如何查看所有节假日？

**A**：当前版本暂不支持查看节假日列表，未来版本会添加"节假日管理"界面。目前可参考本文档的节假日列表。

### Q4：能否自定义休息日？

**A**：当前版本支持数据库存储，但暂无管理界面。未来版本会添加自定义休息日功能。

### Q5：编译时提示需要Java 17？

**A**：这是Android Gradle Plugin的要求，请确保：
```bash
# 方法1：更新gradle.properties
org.gradle.java.home=/path/to/java17

# 方法2：设置环境变量
export JAVA_HOME=/path/to/java17
./gradlew assembleDebug
```

---

## 📞 反馈与支持

如果你在使用过程中遇到问题或有建议：

1. **加QQ群反馈**
   - ①群：560354109
   - ②群：643595483

2. **提交Issue**
   - 前往项目GitHub/Gitee页面提交Issue

3. **查看文档**
   - 详细技术文档：`WEEKEND_HOLIDAY_FEATURE.md`
   - 功能升级计划：`FEATURE_UPGRADE_PLAN.md`

---

## 🎉 享受你的休息时间！

有了周末/节假日自动暂停功能，你再也不用担心：
- ❌ 周末被打卡任务吵醒
- ❌ 节假日忘记关闭任务
- ❌ 调休工作日忘记打卡

让 DailyTask 更智能，让你更轻松！ 🚀

---

**版本**: 2.2.6.0  
**更新日期**: 2026-01-30  
**功能状态**: ✅ 已完成核心功能
