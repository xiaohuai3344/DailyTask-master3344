# ğŸ“± APK è‡ªåŠ¨ç­¾åå’Œå‘å¸ƒ - æœ€ç»ˆæ–¹æ¡ˆ

## ğŸ¯ é—®é¢˜å›é¡¾

æ‚¨é‡åˆ°çš„é—®é¢˜ï¼š
- âŒ APK å®‰è£…æ—¶æç¤º"æœªåŒ…å«ä»»ä½•è¯ä¹¦"
- âŒ ä¹‹å‰ä¸‹è½½çš„ Release APK æœªç­¾å
- âŒ éœ€è¦å®Œå…¨è‡ªåŠ¨åŒ–çš„ç­¾åæ–¹æ¡ˆï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œ

## âœ… è§£å†³æ–¹æ¡ˆ

æˆ‘å·²ç»ä¸ºæ‚¨å‡†å¤‡äº†ä¸€ä¸ª**å®Œå…¨è‡ªåŠ¨åŒ–çš„ç­¾åå·¥ä½œæµ**ï¼Œç‰¹ç‚¹å¦‚ä¸‹ï¼š

- âœ… **é›¶é…ç½®**: ä¸éœ€è¦é…ç½®ä»»ä½• GitHub Secrets
- âœ… **è‡ªåŠ¨ç­¾å**: Release APK è‡ªåŠ¨ä½¿ç”¨å®˜æ–¹å¯†é’¥ç­¾å
- âœ… **ç­¾åéªŒè¯**: è‡ªåŠ¨éªŒè¯ APK ç­¾åæœ‰æ•ˆæ€§
- âœ… **å¯ç›´æ¥å®‰è£…**: ä¸‹è½½åå¯ç›´æ¥å®‰è£…åˆ°æ‰‹æœº
- âœ… **å®Œæ•´æ—¥å¿—**: æ¯ä¸€æ­¥éƒ½æœ‰è¯¦ç»†çŠ¶æ€è¾“å‡º

## ğŸš€ ç«‹å³ä½¿ç”¨ï¼ˆä»…éœ€ 2 åˆ†é’Ÿï¼‰

### æ­¥éª¤ 1: åˆ›å»ºå·¥ä½œæµæ–‡ä»¶

1. **ç‚¹å‡»è¿™ä¸ªé“¾æ¥**:
   ```
   https://github.com/xiaohuai3344/DailyTask-master3344/new/master
   ```

2. **è¾“å…¥æ–‡ä»¶å**:
   ```
   .github/workflows/build-and-sign.yml
   ```

3. **å¤åˆ¶é…ç½®**:
   - æ‰“å¼€æ–‡æ¡£: `CREATE_WORKFLOW_NOW.md`
   - å¤åˆ¶é‡Œé¢çš„å®Œæ•´ YAML é…ç½®
   - ç²˜è´´åˆ°ç¼–è¾‘æ¡†

4. **æäº¤**:
   - æäº¤ä¿¡æ¯: `feat: æ·»åŠ å®Œå…¨è‡ªåŠ¨åŒ–ç­¾åå·¥ä½œæµ`
   - ç‚¹å‡» "Commit new file"

### æ­¥éª¤ 2: ç­‰å¾…æ„å»ºï¼ˆ5-7 åˆ†é’Ÿï¼‰

è®¿é—®: https://github.com/xiaohuai3344/DailyTask-master3344/actions

### æ­¥éª¤ 3: ä¸‹è½½ç­¾åçš„ APK

æ„å»ºå®Œæˆåï¼Œä¸‹è½½:
- `DailyTask-release-signed-2.2.5.1-xxxxxx` âœ… **æ¨èï¼Œå·²ç­¾å**

### æ­¥éª¤ 4: å®‰è£…åˆ°æ‰‹æœº

1. è§£å‹ ZIP æ–‡ä»¶
2. æ‰¾åˆ° APK
3. ä¼ è¾“åˆ°æ‰‹æœº
4. å…è®¸"å®‰è£…æœªçŸ¥åº”ç”¨"æƒé™
5. ç›´æ¥å®‰è£… âœ…

## ğŸ“‹ ä¸ºä»€ä¹ˆè¿™ä¸ªæ–¹æ¡ˆæœ‰æ•ˆï¼Ÿ

### 1. ç­¾åæ–‡ä»¶å·²åœ¨ä»“åº“ä¸­

```
app/DailyTask.jks âœ…
```

### 2. ç­¾åé…ç½®å·²åœ¨ build.gradle ä¸­

```gradle
signingConfigs {
    release {
        storeFile file('DailyTask.jks')
        storePassword '123456789'
        keyAlias 'key0'
        keyPassword '123456789'
    }
}
```

### 3. å·¥ä½œæµè‡ªåŠ¨ä½¿ç”¨è¿™äº›é…ç½®

- âœ… éªŒè¯ç­¾åæ–‡ä»¶å­˜åœ¨
- âœ… æ„å»º Release APKï¼ˆè‡ªåŠ¨ç­¾åï¼‰
- âœ… éªŒè¯ APK ç­¾åæœ‰æ•ˆæ€§
- âœ… ä¸Šä¼ ç­¾åçš„ APK

## ğŸ” å¦‚ä½•éªŒè¯ APK å·²ç­¾åï¼Ÿ

### æ–¹æ³• 1: æŸ¥çœ‹æ„å»ºæ—¥å¿—

åœ¨ Actions é¡µé¢çš„æ„å»ºæ—¥å¿—ä¸­ï¼ŒæŸ¥æ‰¾:
```
âœ… APK is properly signed!
Verifies
Verified using v1 scheme (JAR signing): true
Verified using v2 scheme (APK Signature Scheme v2): true
```

### æ–¹æ³• 2: æ–‡ä»¶å

ç­¾åçš„ APK æ–‡ä»¶ååŒ…å« `_signed`:
```
DailyTask_2.2.5.1_release_signed_20260202_082015.apk âœ…
```

## ğŸ“¦ ä¸‹è½½æŒ‡å—

### æ¨èä¸‹è½½

âœ… **Release ç­¾åç‰ˆ** (æ¨è):
- Artifact åç§°: `DailyTask-release-signed-2.2.5.1-xxxxxx`
- æ–‡ä»¶å: `DailyTask_2.2.5.1_release_signed_xxxxxx.apk`
- å¤§å°: çº¦ 20-25MB
- ç‰¹ç‚¹: å·²ç­¾åï¼Œå¯ç›´æ¥å®‰è£…

### å¤‡ç”¨é€‰æ‹©

Debug ç‰ˆæœ¬:
- Artifact åç§°: `DailyTask-debug-2.2.5.1-xxxxxx`
- æ–‡ä»¶å: `DailyTask_2.2.5.1_debug_xxxxxx.apk`
- å¤§å°: çº¦ 30-35MB
- ç‰¹ç‚¹: åŒ…å«è°ƒè¯•ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥å®‰è£…

## ğŸ› ï¸ æŠ€æœ¯ç»†èŠ‚

### APK æ„å»ºæµç¨‹

1. **ç¯å¢ƒå‡†å¤‡**
   - Ubuntu Latest
   - JDK 21 (Temurin)
   - Gradle ç¼“å­˜

2. **ç‰ˆæœ¬ä¿¡æ¯æå–**
   - ä» `app/build.gradle` æå–ç‰ˆæœ¬å·
   - ç”Ÿæˆæ„å»ºæ—¥æœŸå’Œæäº¤å“ˆå¸Œ

3. **ç­¾åæ–‡ä»¶éªŒè¯**
   - æ£€æŸ¥ `app/DailyTask.jks` å­˜åœ¨
   - æ˜¾ç¤ºæ–‡ä»¶è¯¦æƒ…

4. **æ„å»º APK**
   - Debug: `./gradlew assembleDailyDebug`
   - Release: `./gradlew assembleDailyRelease` (è‡ªåŠ¨ç­¾å)

5. **ç­¾åéªŒè¯**
   - ä½¿ç”¨ `jarsigner` éªŒè¯
   - ä½¿ç”¨ `apksigner` éªŒè¯
   - ç¡®ä¿ç­¾åæœ‰æ•ˆ

6. **ç»„ç»‡è¾“å‡º**
   - é‡å‘½å APK æ–‡ä»¶
   - å¤åˆ¶åˆ° `apk_output/` ç›®å½•
   - æ˜¾ç¤ºæ–‡ä»¶å¤§å°å’Œè·¯å¾„

7. **ä¸Šä¼  Artifacts**
   - Debug APK (ä¿ç•™ 30 å¤©)
   - Release APK (ä¿ç•™ 90 å¤©)

### ç­¾åéªŒè¯å‘½ä»¤

å·¥ä½œæµä¼šè‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹éªŒè¯:

```bash
# æ–¹æ³• 1: jarsigner
jarsigner -verify -verbose -certs "$RELEASE_APK"

# æ–¹æ³• 2: apksigner (æ›´å‡†ç¡®)
$ANDROID_HOME/build-tools/*/apksigner verify --print-certs "$RELEASE_APK"
```

### é¢„æœŸè¾“å‡º

```
âœ… APK is properly signed!
Verifies
Verified using v1 scheme (JAR signing): true
Verified using v2 scheme (APK Signature Scheme v2): true
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

å·²åˆ›å»ºçš„æ–‡æ¡£:
- âœ… `CREATE_WORKFLOW_NOW.md` - å·¥ä½œæµåˆ›å»ºæŒ‡å—ï¼ˆå®Œæ•´é…ç½®ï¼‰
- âœ… `AUTO_SIGN_COMPLETE_GUIDE.md` - è¯¦ç»†ä½¿ç”¨æŒ‡å—
- âœ… `COMPLETE_DELIVERY_REPORT.md` - é¡¹ç›®äº¤ä»˜æŠ¥å‘Š
- âœ… `WEEKEND_HOLIDAY_USAGE.md` - åŠŸèƒ½ä½¿ç”¨è¯´æ˜

## ğŸ”— å¿«é€Ÿé“¾æ¥

### å¿…é¡»è®¿é—®çš„é“¾æ¥

1. **åˆ›å»ºå·¥ä½œæµ** (ç«‹å³å¼€å§‹):
   https://github.com/xiaohuai3344/DailyTask-master3344/new/master

2. **æŸ¥çœ‹æ„å»ºçŠ¶æ€**:
   https://github.com/xiaohuai3344/DailyTask-master3344/actions

3. **æŸ¥çœ‹æ–‡æ¡£**:
   https://github.com/xiaohuai3344/DailyTask-master3344/blob/master/CREATE_WORKFLOW_NOW.md

### å¯é€‰é“¾æ¥

- **Releases é¡µé¢** (æ‰“ Tag å):
  https://github.com/xiaohuai3344/DailyTask-master3344/releases

- **ä»“åº“ä¸»é¡µ**:
  https://github.com/xiaohuai3344/DailyTask-master3344

## â±ï¸ æ—¶é—´ä¼°ç®—

- **åˆ›å»ºå·¥ä½œæµ**: 2 åˆ†é’Ÿ
- **é¦–æ¬¡æ„å»º**: 5-7 åˆ†é’Ÿ
- **ä¸‹è½½ APK**: 1 åˆ†é’Ÿ
- **å®‰è£…åˆ°æ‰‹æœº**: 2 åˆ†é’Ÿ

**æ€»è®¡**: çº¦ 10-12 åˆ†é’Ÿ

## âœ… æˆåŠŸæ ‡å¿—

å®Œæˆåï¼Œæ‚¨åº”è¯¥çœ‹åˆ°:

1. âœ… GitHub Actions æ„å»ºæˆåŠŸï¼ˆç»¿è‰²å‹¾å·ï¼‰
2. âœ… Artifacts åŒºåŸŸæœ‰ä¸¤ä¸ªä¸‹è½½é¡¹
3. âœ… Release APK æ–‡ä»¶ååŒ…å« `_signed`
4. âœ… æ„å»ºæ—¥å¿—æ˜¾ç¤º "APK is properly signed!"
5. âœ… APK å¯ä»¥åœ¨æ‰‹æœºä¸Šç›´æ¥å®‰è£…

## â“ å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆä¹‹å‰çš„ APK æœªç­¾åï¼Ÿ

A: ä¹‹å‰çš„å·¥ä½œæµåªæ„å»ºäº† APKï¼Œä½†æ²¡æœ‰æ­£ç¡®åº”ç”¨ç­¾åé…ç½®ã€‚æ–°çš„å·¥ä½œæµä¼š:
- âœ… éªŒè¯ç­¾åæ–‡ä»¶å­˜åœ¨
- âœ… ä½¿ç”¨ `assembleDailyRelease` æ„å»ºï¼ˆè‡ªåŠ¨ç­¾åï¼‰
- âœ… éªŒè¯ç­¾åæœ‰æ•ˆæ€§
- âœ… åœ¨æ–‡ä»¶åä¸­æ ‡æ³¨ `_signed`

### Q: éœ€è¦é…ç½® GitHub Secrets å—ï¼Ÿ

A: âŒ **ä¸éœ€è¦ï¼**è¿™å°±æ˜¯è¿™ä¸ªæ–¹æ¡ˆçš„ä¼˜åŠ¿ï¼š
- âœ… ç­¾åæ–‡ä»¶å·²åœ¨ä»“åº“ä¸­ (`app/DailyTask.jks`)
- âœ… ç­¾åé…ç½®å·²åœ¨ `build.gradle` ä¸­
- âœ… å·¥ä½œæµç›´æ¥ä½¿ç”¨è¿™äº›é…ç½®
- âœ… é›¶é…ç½®ï¼Œå¼€ç®±å³ç”¨

### Q: Debug å’Œ Release æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

A:
- **Debug APK**:
  - åŒ…å«è°ƒè¯•ä¿¡æ¯
  - æ–‡ä»¶è¾ƒå¤§ (~30-35MB)
  - ä½¿ç”¨ Debug å¯†é’¥ç­¾å
  - é€‚åˆå¼€å‘æµ‹è¯•

- **Release APK** (æ¨è):
  - ç”Ÿäº§å°±ç»ª
  - æ–‡ä»¶è¾ƒå° (~20-25MB)
  - ä½¿ç”¨å®˜æ–¹å¯†é’¥ç­¾å âœ…
  - é€‚åˆæ­£å¼ä½¿ç”¨

### Q: å¦‚ä½•ç¡®è®¤ APK å·²ç­¾åï¼Ÿ

A: æœ‰ä¸‰ç§æ–¹æ³•ï¼š
1. âœ… æ–‡ä»¶ååŒ…å« `_signed`
2. âœ… æ„å»ºæ—¥å¿—æ˜¾ç¤º "APK is properly signed!"
3. âœ… å¯ä»¥åœ¨æ‰‹æœºä¸Šç›´æ¥å®‰è£…ï¼ˆä¸ä¼šæç¤º"æœªåŒ…å«è¯ä¹¦"ï¼‰

### Q: å®‰è£…æ—¶è¿˜æ˜¯æç¤º"æœªåŒ…å«è¯ä¹¦"æ€ä¹ˆåŠï¼Ÿ

A: è¯·ç¡®è®¤ï¼š
1. ä¸‹è½½çš„æ˜¯ **Release ç­¾åç‰ˆ**ï¼ˆä¸æ˜¯ Debug ç‰ˆï¼‰
2. æ–‡ä»¶ååŒ…å« `_signed`
3. æ„å»ºæ—¥å¿—æ˜¾ç¤ºç­¾åéªŒè¯æˆåŠŸ
4. ä»æœ€æ–°çš„æ„å»ºä¸‹è½½ï¼ˆåˆ›å»ºå·¥ä½œæµåçš„ç¬¬ä¸€æ¬¡æ„å»ºï¼‰

### Q: èƒ½è‡ªåŠ¨å‘å¸ƒåˆ° Releases å—ï¼Ÿ

A: âœ… å¯ä»¥ï¼å·¥ä½œæµå·²é…ç½®ï¼š
- æ‰“ Tag æ—¶è‡ªåŠ¨åˆ›å»º Release
- è‡ªåŠ¨ä¸Šä¼  Debug å’Œ Release APK
- è‡ªåŠ¨ç”Ÿæˆ Release Notes

åˆ›å»º Release çš„æ–¹æ³•ï¼š
```bash
git tag -a v2.2.5.1 -m "Release version 2.2.5.1"
git push origin v2.2.5.1
```

## ğŸ‰ æ€»ç»“

è¿™æ˜¯ä¸€ä¸ª**å®Œå…¨è‡ªåŠ¨åŒ–ã€é›¶é…ç½®ã€å¼€ç®±å³ç”¨**çš„ç­¾åæ–¹æ¡ˆï¼š

- âœ… æ— éœ€é…ç½® Secrets
- âœ… ç­¾åæ–‡ä»¶å’Œé…ç½®å·²å°±ç»ª
- âœ… è‡ªåŠ¨æ„å»ºå’Œç­¾å
- âœ… è‡ªåŠ¨éªŒè¯ç­¾åæœ‰æ•ˆæ€§
- âœ… Release APK å¯ç›´æ¥å®‰è£…
- âœ… æ¸…æ™°çš„æ—¥å¿—å’ŒçŠ¶æ€è¾“å‡º
- âœ… æ”¯æŒè‡ªåŠ¨å‘å¸ƒåˆ° Releases

---

## ğŸš€ ç«‹å³å¼€å§‹

**ç¬¬ä¸€æ­¥**: ç‚¹å‡»è¿™ä¸ªé“¾æ¥åˆ›å»ºå·¥ä½œæµ
```
https://github.com/xiaohuai3344/DailyTask-master3344/new/master
```

**ç¬¬äºŒæ­¥**: æŸ¥çœ‹è¯¦ç»†é…ç½®
```
https://github.com/xiaohuai3344/DailyTask-master3344/blob/master/CREATE_WORKFLOW_NOW.md
```

**ç¬¬ä¸‰æ­¥**: ç­‰å¾…æ„å»ºå¹¶ä¸‹è½½ APK
```
https://github.com/xiaohuai3344/DailyTask-master3344/actions
```

---

**é¢„è®¡æ€»æ—¶é—´**: 10-12 åˆ†é’Ÿåï¼Œæ‚¨å°±å¯ä»¥åœ¨æ‰‹æœºä¸Šå®‰è£…ç­¾åçš„ APK äº†ï¼ ğŸŠ
