# 🎯 测试快速参考卡

## 📱 三阶段安全测试法（不影响正常打卡）

---

### 🔵 阶段1: 观察模式（第1-2天）✅ **零风险**

```
操作：
1. 下载安装新 APK
2. 保持原有打卡任务不变
3. 被动观察打卡流程

观察点：
✅ 倒计时剩余10秒 → 显示伪灭屏
✅ 倒计时结束 → 隐藏伪灭屏 → 打开钉钉
✅ 打卡成功 → 回到主界面（亮屏）
✅ 10-30秒后 → 自动显示伪灭屏

风险：无风险，不改变任何设置
```

---

### 🟢 阶段2: 温和测试（第3-4天）✅ **低风险**

```
时间选择：
⏰ 非正式打卡时间（午休/下班后）
⏰ 或在正式打卡前30分钟

操作：
1. 添加测试任务（当前时间 + 3分钟）
2. 观察完整流程
3. 测试完成后删除任务

测试项：
✅ 倒计时10秒伪灭屏
✅ 打开钉钉并打卡
✅ 延迟恢复暗色
✅ 远程重试指令（可选）

风险：低风险，非关键时间测试
```

---

### 🟡 阶段3: 失败模拟（第5天+）⚠️ **中等风险**

```
前提：
✅ 阶段1、2测试通过
✅ 准备好手动打卡备用方案

操作：
1. 正常让应用执行打卡
2. 观察自动重试机制

预期：
✅ 失败后30秒 → 自动重试第1次
✅ 再等2秒 → 第2次
✅ 再等2秒 → 第3次
✅ 收到邮件通知

兜底：
🚨 3次失败后立即手动打卡

风险：中等，有备用方案保障
```

---

## 🛡️ 四重安全保障

### 1️⃣ 时间缓冲
```
✅ 打卡前5-10分钟准备好
✅ 足够时间应对突发情况
```

### 2️⃣ 双重保障
```
✅ 主方案：应用自动打卡
✅ 备方案：手动打卡兜底
```

### 3️⃣ 实时监控
```
✅ 邮件通知及时查看
✅ 打卡失败立即提醒
```

### 4️⃣ 完整日志
```
✅ 所有操作均有日志
✅ 可分析失败原因
```

---

## 🚀 立即开始（3步走）

### Step 1: 下载安装（5分钟）
```
1. 访问: https://github.com/xiaohuai3344/DailyTask-master3344/actions
2. 下载: DailyTask-release-signed-2.2.5.1-xxxxxx.apk
3. 卸载旧版 → 安装新版 → 授权权限
```

### Step 2: 观察模式（第1-2天）
```
✅ 不改任何设置
✅ 正常使用
✅ 被动观察
```

### Step 3: 温和测试（第3-4天）
```
✅ 非关键时间
✅ 添加测试任务
✅ 完整验证流程
```

---

## 📊 测试检查清单

### ✅ 阶段1（必做）
- [ ] 安装新版 APK
- [ ] 授权所有权限
- [ ] 观察倒计时10秒伪灭屏
- [ ] 观察打卡流程正常
- [ ] 观察延迟恢复暗色
- [ ] 确认打卡成功

### ✅ 阶段2（推荐）
- [ ] 非关键时间测试
- [ ] 验证完整流程
- [ ] 测试远程重试指令
- [ ] 删除测试任务

### ✅ 阶段3（可选）
- [ ] 准备手动打卡备用
- [ ] 观察自动重试
- [ ] 确认邮件通知
- [ ] 手动打卡兜底

---

## ⚠️ 紧急应对

### 🔴 打卡时间快到了
```
1. 立即手动打开钉钉
2. 手动完成打卡
3. 之后分析日志
```

### 🟡 测试过程有问题
```
1. 查看邮件日志
2. 记录问题现象
3. 保留信息以便改进
```

---

## 💡 关键提示

### ✅ 永远记住
1. **手动打卡永远是最后保障**
2. **在非关键时间测试新功能**
3. **邮件通知要及时查看**
4. **有异常立即手动打卡**
5. **测试可分多天，不必着急**

---

## 📞 详细文档

| 文档 | 说明 | 链接 |
|------|------|------|
| SAFE_TESTING_GUIDE.md | 完整测试指南 | [查看](https://github.com/xiaohuai3344/DailyTask-master3344/blob/master/SAFE_TESTING_GUIDE.md) |
| APP_FULL_ANALYSIS.md | 功能完整分析 | [查看](https://github.com/xiaohuai3344/DailyTask-master3344/blob/master/APP_FULL_ANALYSIS.md) |
| CLOCK_IN_FIX_COMPLETE.md | 打卡修复总结 | [查看](https://github.com/xiaohuai3344/DailyTask-master3344/blob/master/CLOCK_IN_FIX_COMPLETE.md) |
| BUILD_FIX_SUMMARY.md | 构建修复总结 | [查看](https://github.com/xiaohuai3344/DailyTask-master3344/blob/master/BUILD_FIX_SUMMARY.md) |

---

## 🎯 测试成功标准

```
✅ 倒计时剩余10秒显示伪灭屏
✅ 倒计时结束隐藏伪灭屏并打开钉钉
✅ 打卡成功后延迟10-30秒恢复暗色
✅ 打卡失败自动重试（最多3次）
✅ 邮件通知准确及时
✅ 连续3-5天无异常
```

---

**版本**: v2.2.5.1  
**更新**: 2026-02-04  
**测试原则**: 安全第一，渐进测试，充足备用方案  
**风险等级**: ✅ 可控，低风险
