# 🚀 v3.0.0 快速升级指南

## ⚡ 一分钟了解v3.0.0

### 🎁 两大核心更新

#### 1️⃣ 任务自动启动（再也不怕忘记启动）
- 🤖 每5分钟自动检测
- 📅 智能识别工作日
- ⏰ 7:00-10:00自动启动
- 📧 邮件通知确认

#### 2️⃣ 覆盖安装（告别手动导入数据）
- ✅ 直接替换旧版本
- ✅ 所有数据自动保留
- ✅ 邮箱配置自动继承
- ✅ 任务设置自动迁移

---

## 📥 下载安装

### Step 1: 下载APK
访问: https://github.com/xiaohuai3344/DailyTask-master3344/actions

下载最新的：
- `DailyTask-release-signed-3.0.0-xxxxxx.apk` （推荐）

### Step 2: 安装（二选一）

#### ✅ 方式A: 直接覆盖安装（推荐）
```
1. 找到下载的APK
2. 点击安装
3. 系统提示"替换现有应用"
4. 点击"确定"
5. 完成！所有数据自动保留
```

#### ⚠️ 方式B: 卸载重装（不推荐）
```
1. 导出当前任务（设置→导出任务）
2. 卸载旧版本
3. 安装新版本
4. 重新配置邮箱
5. 导入任务数据
```

---

## ✅ 验证升级成功

### 检查版本号
```
设置 → 关于 → 版本号
应显示: v3.0.0
```

### 检查数据保留
- [ ] 邮箱配置是否保留
- [ ] 任务列表是否完整
- [ ] 周末/节假日设置是否正确
- [ ] 历史记录是否存在

---

## 🔧 启用新功能

### 任务自动启动功能

#### 开启方法1: 通过消息
发送 "开始循环" （通过微信/钉钉/QQ/支付宝/企业微信）

#### 开启方法2: 通过设置
设置 → 任务配置 → 开启循环任务

#### 验证开启
- 应收到邮件确认："循环任务状态已更新为：开启"

---

## 📋 功能说明

### 自动启动触发条件

**必须同时满足**:
1. ✅ 今天是工作日
2. ✅ 当前时间 7:00-10:00
3. ✅ 有配置的任务
4. ✅ 任务未在运行
5. ✅ 循环任务已开启

### 自动启动流程
```
07:00 开始检测
      ↓
检测到任务未启动
      ↓
自动启动任务
      ↓
发送邮件通知
      ↓
任务正常执行
```

### 邮件通知示例
```
主题：任务自动启动通知

检测时间：2026-02-04 08:30
检测结果：任务未启动

今日状态：工作日
任务数量：3 个

自动操作：已自动启动任务

任务列表：
  - 08:45
  - 11:30
  - 17:45
```

---

## ⚠️ 特别提示

### 关于首次升级

**如果你当前使用的是 v2.2.5.1 或更早版本**:
- ⚠️ 首次升级需要卸载旧版本
- ⚠️ 记得先导出任务数据
- ⚠️ 截图保存邮箱配置

**原因**:
- 旧版本使用随机 applicationId
- 无法直接覆盖安装
- v3.0.0之后所有版本都可覆盖安装

---

### 关于自动启动

**推荐开启**:
- ✅ 防止忘记启动任务
- ✅ 每天只检测一次
- ✅ 邮件通知可追踪

**如何关闭**:
- 发送 "暂停循环" 消息
- 或在设置中关闭

---

## 🎯 测试清单

### 基础功能
- [ ] 应用正常打开
- [ ] 数据完整保留
- [ ] 任务列表正确
- [ ] 邮箱配置正常

### 新功能
- [ ] 循环任务已开启
- [ ] 明天7-10点观察是否自动启动
- [ ] 收到自动启动邮件通知

### 原有功能
- [ ] 手动启动任务正常
- [ ] 倒计时显示正常
- [ ] 打卡流程正常
- [ ] 伪灭屏功能正常
- [ ] 打卡完成后恢复暗色

---

## 🔗 快速链接

| 资源 | 链接 |
|------|------|
| 下载APK | [GitHub Actions](https://github.com/xiaohuai3344/DailyTask-master3344/actions) |
| 完整文档 | [VERSION_3.0.0_RELEASE_NOTES.md](https://github.com/xiaohuai3344/DailyTask-master3344/blob/master/VERSION_3.0.0_RELEASE_NOTES.md) |
| 问题反馈 | [GitHub Issues](https://github.com/xiaohuai3344/DailyTask-master3344/issues) |

---

## 💡 常见问题

### Q: 为什么要覆盖安装而不是全新安装？
A: 覆盖安装可以保留所有数据和设置，无需重新配置。

### Q: 自动启动会不会重复触发？
A: 不会，每天只检测一次。

### Q: 如果不想自动启动怎么办？
A: 发送 "暂停循环" 关闭即可。

### Q: 旧版本数据会丢失吗？
A: 不会，覆盖安装会自动保留所有数据。

### Q: 自动启动会影响性能吗？
A: 不会，每5分钟只运行100ms，几乎无影响。

---

## 🎉 升级总结

### v3.0.0 = 更智能 + 更方便

**更智能**:
- 🤖 自动检测任务状态
- 🔄 自动启动未运行的任务
- 📧 自动发送邮件通知

**更方便**:
- ⚡ 一键覆盖安装
- 📦 数据自动迁移
- 🎯 无需重新配置

---

**版本**: v3.0.0  
**更新日期**: 2026-02-04  
**推荐升级**: ⭐⭐⭐⭐⭐
